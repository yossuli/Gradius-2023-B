(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{171:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return i(3696)}])},3696:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var n=i(5893),a=i(7294),s=i(2237);let r=e=>e*Math.PI/180,c=e=>{let{bullet:t,currentTime:i}=e,a=(i-t.createdAt)/1e3,c=300*a*Math.cos(r(t.direction)),o=300*a*Math.sin(r(t.direction)),u=t.createdPosition.x+c,l=t.createdPosition.y+o;return(0,n.jsx)(s.Cd,{x:u,y:l,radius:5,fill:"red"})};var o=i(1733),u=i(1290),l=i(4420),d=i.n(l);let h=()=>{let[e,t]=(0,a.useState)([]),[i,r]=(0,a.useState)([]),[l,h]=(0,a.useState)([]),[m,x]=(0,a.useState)(Date.now()),[p]=d()(o.D.images.spaceship_png),[_]=d()(o.D.images.enemy_spaceship_png),w=async()=>{let e=await u.x.player.$get();null!==e&&t(e)},f=async()=>{let e=await u.x.enemy.$get();null!==e&&r(e)},g=async()=>{let e=await u.x.bullet.$get();null!==e&&h(e)};return(0,a.useEffect)(()=>{let e=requestAnimationFrame(()=>{w(),f(),g(),x(Date.now())});return()=>cancelAnimationFrame(e)},[]),(0,n.jsx)("div",{children:(0,n.jsxs)(s.Hf,{width:1920,height:1080,children:[(0,n.jsx)(s.mh,{children:e.map(e=>(0,n.jsx)(s.Ee,{image:p,width:100,height:100,rotation:"red"===e.team?90:-90,x:e.position.x+50,y:e.position.y-50},e.id))}),(0,n.jsx)(s.mh,{children:i.map(e=>(0,n.jsx)(s.Ee,{image:_,width:50,height:50,rotation:90,x:e.createdPosition.x,y:e.createdPosition.y},e.id))}),(0,n.jsx)(s.mh,{children:l.map(e=>(0,n.jsx)(c,{bullet:e,currentTime:m},e.id))})]})})};var m=h}},function(e){e.O(0,[289,774,888,179],function(){return e(e.s=171)}),_N_E=e.O()}]);